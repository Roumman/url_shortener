# URL Shortener API

## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π `API` –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è `URL` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `FastAPI` –∏ `SQLite`

–û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ –Ω–∏–º –∏ –ø–æ–ª—É—á–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```textline
url_shortener/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py             # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å FastAPI –∏ docstrings
‚îÇ   ‚îú‚îÄ‚îÄ api/                # –ü–∞–ø–∫–∞ –¥–ª—è —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ (API)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ urls.py         # –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ–∫—Ä–∞—â—ë–Ω–Ω—ã–º–∏ URL
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ stats.py        # –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ models/             # –ü–∞–ø–∫–∞ –¥–ª—è –º–æ–¥–µ–ª–µ–π SQLAlchemy
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ url_model.py    # –ú–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ URL
‚îÇ   ‚îú‚îÄ‚îÄ schemas/            # Pydantic —Å—Ö–µ–º—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ url_schema.py   # Pydantic —Å—Ö–µ–º–∞ –¥–ª—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pagination.py   # –°—Ö–µ–º–∞ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ crud/               # –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ url_crud.py     # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è URL
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pagination.py   # –õ–æ–≥–∏–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ database/           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ db.py           # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Å–µ—Å—Å–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ main.py             #
‚îÇ   ‚îî‚îÄ‚îÄ config.py           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
|
‚îú‚îÄ‚îÄ database.db             # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ Dockerfile              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Docker
‚îú‚îÄ‚îÄ .gitignore              # –§–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è Git
‚îî‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.**
2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
   ```bash
   python -m venv venv
   ```
3. **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**

- **–ù–∞ Windows:**
   ```bash
   venv\Scripts\activate
   ```

- **–ù–∞ MacOS/Linux:**
   ```bash
   source venv/bin/activate
   ```

- **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install -r requirements.txt
   ```

- **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Å –ø–æ–º–æ—â—å—é Uvicorn:**
   ```bash
   uvicorn app.main:app --reload
   ```

## üîß –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

1. `POST` `/shorten`

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–µ—Ç –∫–æ—Ä–æ—Ç–∫—É—é —Å—Å—ã–ª–∫—É –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ URL.
- **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
   ```json
   {
   "url": "https://www.example.com"
   }
   ```
- **–û—Ç–≤–µ—Ç:**
   ```json
   {
   "short_url": "http://127.0.0.1:8000/{short_id}"
   }
   ```

2. `GET` `/{short_id}`

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π URL –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–º—É –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É.
- **–ü—Ä–∏–º–µ—Ä:**
   ```bash
   GET /abc123
   ```
- **–û—Ç–≤–µ—Ç:** –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π URL.

3. `GET` `/stats`

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã—Ö URL —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.
- **–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
GET /stats?page=1&per_page=10
```
- **–û—Ç–≤–µ—Ç:**
```json
{
  "page": 1,
  "per_page": 10,
  "total": 50,
  "urls": [
    {"short_url": "http://127.0.0.1:8000/abc123", "original_url": "https://www.example.com"},
    {"short_url": "http://127.0.0.1:8000/xyz456", "original_url": "https://www.another-example.com"}
  ]
}
```



![picture_1](pic_1.png)

**View build details:** `docker-desktop://dashboard/build/desktop-linux/desktop-linux/zkebp32z3xevvxn6pk4ipv6qr`

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π `MIT`

**–°–º. —Ñ–∞–π–ª** [LICENSE](LICENSE) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
